# Travis configuration file using the build matrix feature
# Read more under http://docs.travis-ci.com/user/build-configuration/
sudo: required
dist: trusty

services:
  docker

language: cpp

env:
  matrix:
    - CC_VER: "5"

before_install:
  - docker build --file travis/Dockerfile.xenial -t xenial-builder .
  - docker run -d --name builder -e CC_VER=${CC_VER} -v $(pwd):/travis xenial-builder tail -f /dev/null
  - docker ps

script:
  - docker exec -t builder /root/build.sh

notifications:
    email: false
